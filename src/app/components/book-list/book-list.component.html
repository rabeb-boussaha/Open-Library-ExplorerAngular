<div class="book-list">
  <!-- Loading state -->
  <ng-container *ngIf="loading">
    <div class="loading-grid">
      <app-book-card
        *ngFor="let item of [].constructor(12)"
        [loading]="true"
      ></app-book-card>
    </div>
  </ng-container>

  <!-- Results -->
  <ng-container *ngIf="!loading && books.length > 0">
    <div class="results-meta">
      <p class="results-count">{{ books.length }} result(s) found</p>
    </div>

    <div class="books-grid">
      <app-book-card
        *ngFor="let book of paginatedBooks"
        [book]="book"
      ></app-book-card>
    </div>

    <!-- Pagination -->
    <div class="pagination" *ngIf="totalPages > 1">
      <!-- Previous button -->
      <button
        (click)="previousPage()"
        [disabled]="currentPage === 1"
        class="page-button"
      >
        « Previous
      </button>

      <!-- Page numbers -->
      <button
        *ngFor="let page of [].constructor(totalPages); let i = index"
        (click)="setPage(i + 1)"
        [class.active]="currentPage === i + 1"
        class="page-button"
      >
        {{ i + 1 }}
      </button>

      <!-- Next button -->
      <button
        (click)="nextPage()"
        [disabled]="currentPage === totalPages"
        class="page-button"
      >
        Next »
      </button>
    </div>
  </ng-container>
</div>
